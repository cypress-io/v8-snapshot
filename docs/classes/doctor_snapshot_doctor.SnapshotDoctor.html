<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>SnapshotDoctor | v8-snapshot</title><meta name="description" content="Documentation for v8-snapshot"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem(&quot;tsd-theme&quot;) || &quot;os&quot;)</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">v8-snapshot</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">v8-snapshot</a></li><li><a href="../modules/doctor_snapshot_doctor.html">doctor/snapshot-doctor</a></li><li><a href="doctor_snapshot_doctor.SnapshotDoctor.html">SnapshotDoctor</a></li></ul><h1>Class SnapshotDoctor</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>The snapshot doctor performs a series of steps in order to arrive at
metadata which distinguishes between non-problematic aka <em>healthy</em> and
problematic aka <em>deferred</em> and <em>norewrite</em> modules.</p>
</div><div><p>This metada is used when generating the final snapshot script to initialize
the snapshot.</p>

<a href="#snapshot-doctor-metadata" id="snapshot-doctor-metadata" style="color: inherit; text-decoration: none;">
  <h2>Snapshot Doctor Metadata</h2>
</a>
<ul>
<li><code>norewrite</code>: modules that should not be rewritten when generating the
 sanpshot script as</li>
<li><code>deferred</code>: modules that need to be deferred, that is they can not be
 initialized during snapshot inialization</li>
<li><code>healthy</code>: modules that can be fully initialized during snapshot
initialization</li>
<li><code>deferredHashFile</code>: the file use to derive at the current project state
 hash, usually the local <code>yarn.lock</code></li>
<li><code>deferredHash</code>: the hash of the <code>deferredHashFile</code> at the time that this
metatdata was generated</li>
</ul>
<p>The <code>hash</code> related properties tell the snapshot doctor for future runs if
the metadata can be used as is since the project state didn&#39;t change, i.e.
no dependencies were changed nor added or removed.</p>
<p>If the <code>deferredHash</code> does not match the current state then the doctor
will start fresh, however if you pass one ore more of the following as part
of the <a href="../modules/doctor_snapshot_doctor.html#SnapshotDoctorOpts">snapshot opts</a> it will take those as a
starting point and complete much faster.</p>
<pre><code class="language-ts"><span class="hl-0">previousDeferred</span><span class="hl-1">: </span><span class="hl-2">Set</span><span class="hl-1">&lt;</span><span class="hl-3">string</span><span class="hl-1">&gt;</span><br/><span class="hl-0">previousHealthy</span><span class="hl-1">: </span><span class="hl-2">Set</span><span class="hl-1">&lt;</span><span class="hl-3">string</span><span class="hl-1">&gt;</span><br/><span class="hl-0">previousNoRewrite</span><span class="hl-1">: </span><span class="hl-2">Set</span><span class="hl-1">&lt;</span><span class="hl-3">string</span><span class="hl-1">&gt;</span>
</code></pre>

<a href="#snapshot-doctor-steps" id="snapshot-doctor-steps" style="color: inherit; text-decoration: none;">
  <h2>Snapshot Doctor Steps</h2>
</a>
<p>When <a href="doctor_snapshot_doctor.SnapshotDoctor.html#heal">SnapshotDoctor.heal</a> is invoked the doctor will keep adapting
the bundle that is generated by the bundle until it can be used to
initialize the snapshot without running into any issues.</p>
<p>It does so by refining the health state and communicating it to the bundler
via a config which in turn produces a slightly different bundle each time,
designed to avoid those issues.</p>
</div></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">SnapshotDoctor</span></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section tsd-is-private tsd-is-private-protected"><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_scriptProcessor" class="tsd-kind-icon">_script<wbr/>Processor</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_warningsProcessor" class="tsd-kind-icon">_warnings<wbr/>Processor</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#baseDirPath" class="tsd-kind-icon">base<wbr/>Dir<wbr/>Path</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#bundlerPath" class="tsd-kind-icon">bundler<wbr/>Path</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#entryFilePath" class="tsd-kind-icon">entry<wbr/>File<wbr/>Path</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#forceNoRewrite" class="tsd-kind-icon">force<wbr/>No<wbr/>Rewrite</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#nodeEnv" class="tsd-kind-icon">node<wbr/>Env</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#nodeModulesOnly" class="tsd-kind-icon">node<wbr/>Modules<wbr/>Only</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#previousDeferred" class="tsd-kind-icon">previous<wbr/>Deferred</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#previousHealthy" class="tsd-kind-icon">previous<wbr/>Healthy</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#previousNoRewrite" class="tsd-kind-icon">previous<wbr/>No<wbr/>Rewrite</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_createScript" class="tsd-kind-icon">_create<wbr/>Script</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_findLeaves" class="tsd-kind-icon">_find<wbr/>Leaves</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_findNextStage" class="tsd-kind-icon">_find<wbr/>Next<wbr/>Stage</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_findVerifiables" class="tsd-kind-icon">_find<wbr/>Verifiables</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_processCurrentScript" class="tsd-kind-icon">_process<wbr/>Current<wbr/>Script</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_wasHandled" class="tsd-kind-icon">_was<wbr/>Handled</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_writeBundle" class="tsd-kind-icon">_write<wbr/>Bundle</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#heal" class="tsd-kind-icon">heal</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class"><a id="constructor" class="tsd-anchor"></a><h3>constructor</h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">new <wbr/>Snapshot<wbr/>Doctor<span class="tsd-signature-symbol">(</span>opts<span class="tsd-signature-symbol">: </span><a href="../modules/doctor_snapshot_doctor.html#SnapshotDoctorOpts" class="tsd-signature-type" data-tsd-kind="Type alias">SnapshotDoctorOpts</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="doctor_snapshot_doctor.SnapshotDoctor.html" class="tsd-signature-type" data-tsd-kind="Class">SnapshotDoctor</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L269">src/doctor/snapshot-doctor.ts:269</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Creates an instance of the <a href="doctor_snapshot_doctor.SnapshotDoctor.html">SnapshotDoctor</a></p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>opts: <a href="../modules/doctor_snapshot_doctor.html#SnapshotDoctorOpts" class="tsd-signature-type" data-tsd-kind="Type alias">SnapshotDoctorOpts</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>configures the <em>healing</em> process of the doctor</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="doctor_snapshot_doctor.SnapshotDoctor.html" class="tsd-signature-type" data-tsd-kind="Class">SnapshotDoctor</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group tsd-is-private tsd-is-private-protected"><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private"><a id="_scriptProcessor" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> <span class="tsd-flag ts-flagReadonly">Readonly</span> _script<wbr/>Processor</h3><div class="tsd-signature tsd-kind-icon">_script<wbr/>Processor<span class="tsd-signature-symbol">:</span> <a href="doctor_process_script_async.AsyncScriptProcessor.html" class="tsd-signature-type" data-tsd-kind="Class">AsyncScriptProcessor</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L261">src/doctor/snapshot-doctor.ts:261</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private"><a id="_warningsProcessor" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> <span class="tsd-flag ts-flagReadonly">Readonly</span> _warnings<wbr/>Processor</h3><div class="tsd-signature tsd-kind-icon">_warnings<wbr/>Processor<span class="tsd-signature-symbol">:</span> <a href="doctor_warnings_processor.WarningsProcessor.html" class="tsd-signature-type" data-tsd-kind="Class">WarningsProcessor</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L262">src/doctor/snapshot-doctor.ts:262</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private"><a id="baseDirPath" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> <span class="tsd-flag ts-flagReadonly">Readonly</span> base<wbr/>Dir<wbr/>Path</h3><div class="tsd-signature tsd-kind-icon">base<wbr/>Dir<wbr/>Path<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L252">src/doctor/snapshot-doctor.ts:252</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private"><a id="bundlerPath" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> <span class="tsd-flag ts-flagReadonly">Readonly</span> bundler<wbr/>Path</h3><div class="tsd-signature tsd-kind-icon">bundler<wbr/>Path<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L254">src/doctor/snapshot-doctor.ts:254</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private"><a id="entryFilePath" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> <span class="tsd-flag ts-flagReadonly">Readonly</span> entry<wbr/>File<wbr/>Path</h3><div class="tsd-signature tsd-kind-icon">entry<wbr/>File<wbr/>Path<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L253">src/doctor/snapshot-doctor.ts:253</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private"><a id="forceNoRewrite" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> <span class="tsd-flag ts-flagReadonly">Readonly</span> force<wbr/>No<wbr/>Rewrite</h3><div class="tsd-signature tsd-kind-icon">force<wbr/>No<wbr/>Rewrite<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L259">src/doctor/snapshot-doctor.ts:259</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private"><a id="nodeEnv" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> <span class="tsd-flag ts-flagReadonly">Readonly</span> node<wbr/>Env</h3><div class="tsd-signature tsd-kind-icon">node<wbr/>Env<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L260">src/doctor/snapshot-doctor.ts:260</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private"><a id="nodeModulesOnly" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> <span class="tsd-flag ts-flagReadonly">Readonly</span> node<wbr/>Modules<wbr/>Only</h3><div class="tsd-signature tsd-kind-icon">node<wbr/>Modules<wbr/>Only<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L255">src/doctor/snapshot-doctor.ts:255</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private"><a id="previousDeferred" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> <span class="tsd-flag ts-flagReadonly">Readonly</span> previous<wbr/>Deferred</h3><div class="tsd-signature tsd-kind-icon">previous<wbr/>Deferred<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L256">src/doctor/snapshot-doctor.ts:256</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private"><a id="previousHealthy" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> <span class="tsd-flag ts-flagReadonly">Readonly</span> previous<wbr/>Healthy</h3><div class="tsd-signature tsd-kind-icon">previous<wbr/>Healthy<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L257">src/doctor/snapshot-doctor.ts:257</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-private"><a id="previousNoRewrite" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> <span class="tsd-flag ts-flagReadonly">Readonly</span> previous<wbr/>No<wbr/>Rewrite</h3><div class="tsd-signature tsd-kind-icon">previous<wbr/>No<wbr/>Rewrite<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L258">src/doctor/snapshot-doctor.ts:258</a></li></ul></aside></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private"><a id="_createScript" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> _create<wbr/>Script</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private"><li class="tsd-signature tsd-kind-icon">_create<wbr/>Script<span class="tsd-signature-symbol">(</span>deferred<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span>, norewrite<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>bundle<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Buffer</span><span class="tsd-signature-symbol">; </span>meta<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Metafile</span><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">{ </span>inputs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">{ </span>bytes<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>fileInfo<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>fullPath<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">; </span>imports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>kind<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;require-call&quot;</span><span class="tsd-signature-symbol">; </span>path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>resolverMap<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">; </span>warnings<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Message</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L556">src/doctor/snapshot-doctor.ts:556</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Creates a bundle providing the modules that should be deferred or not
rewritten to the bundler.</p>
</div><div><p>The bundler will rewrite the code such that deferreds are wrapped inside
functions and only resolved once accessed.
The bundler only transpiles code of modules that should not be rewritten
but doesn&#39;t rewrite it in any way.</p>
<p>The resulting bundle is then wrapped inside a snapshot script.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> deferred: <span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> norewrite: <span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>bundle<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Buffer</span><span class="tsd-signature-symbol">; </span>meta<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Metafile</span><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">{ </span>inputs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">{ </span>bytes<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>fileInfo<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>fullPath<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">; </span>imports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>kind<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;require-call&quot;</span><span class="tsd-signature-symbol">; </span>path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>resolverMap<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">; </span>warnings<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Message</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private"><a id="_findLeaves" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> _find<wbr/>Leaves</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private"><li class="tsd-signature tsd-kind-icon">_find<wbr/>Leaves<span class="tsd-signature-symbol">(</span>healState<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">HealState</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L613">src/doctor/snapshot-doctor.ts:613</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Finds all modules that import no other modules.
This is only called the very first time during the doctor process.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>healState: <span class="tsd-signature-type">HealState</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>current heal state</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private"><a id="_findNextStage" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> _find<wbr/>Next<wbr/>Stage</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private"><li class="tsd-signature tsd-kind-icon">_find<wbr/>Next<wbr/>Stage<span class="tsd-signature-symbol">(</span>healState<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">HealState</span>, circulars<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L595">src/doctor/snapshot-doctor.ts:595</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Finds the next set modules that we should verify to be healthy or not or
empty if no more can be verified.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>healState: <span class="tsd-signature-type">HealState</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>current heal state</p>
</div></div></li><li><h5>circulars: <span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>circular imports</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private"><a id="_findVerifiables" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> _find<wbr/>Verifiables</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private"><li class="tsd-signature tsd-kind-icon">_find<wbr/>Verifiables<span class="tsd-signature-symbol">(</span>healState<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">HealState</span>, circulars<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L638">src/doctor/snapshot-doctor.ts:638</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Finds modules that only depend on previously handled modules and thus can
be verified at this point.</p>
</div><div><p>If no such modules are found it returns an empty array.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>healState: <span class="tsd-signature-type">HealState</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>current heal state</p>
</div></div></li><li><h5>circulars: <span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>circular imports</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private"><a id="_processCurrentScript" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> _process<wbr/>Current<wbr/>Script</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private"><li class="tsd-signature tsd-kind-icon">_process<wbr/>Current<wbr/>Script<span class="tsd-signature-symbol">(</span>bundle<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Buffer</span>, warnings<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Message</span><span class="tsd-signature-symbol">[]</span>, healState<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">HealState</span>, circulars<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L412">src/doctor/snapshot-doctor.ts:412</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The bundler produced a bundle respecting the current heal state.
Now we need to test different modules as entry points in order to identify
if initializing a particular module in isolation would cause issues.</p>
</div><div><p>Note that even though we use the same bundle, by changing the entry point
we can check multiple modules with it.</p>
<p>We first look at the warnings and take the needed consequence for some of
them, either marking a module to be deferred or as not rewritable.</p>
<p>The bundle is invalid if we encountered extra modules that cannot be
rewritten. In that case we return immediately causing a new bundle to be
generated that doesn&#39;t have rewrites for those modules.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>bundle: <span class="tsd-signature-type">Buffer</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the bundle returned by the bundler</p>
</div></div></li><li><h5>warnings: <span class="tsd-signature-type">Message</span><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the warnings emitted by the bundler</p>
</div></div></li><li><h5>healState: <span class="tsd-signature-type">HealState</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>current heal state</p>
</div></div></li><li><h5>circulars: <span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>circular imports</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private"><a id="_wasHandled" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> _was<wbr/>Handled</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private"><li class="tsd-signature tsd-kind-icon">_was<wbr/>Handled<span class="tsd-signature-symbol">(</span>key<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, healthy<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span>, deferred<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span>, norewrite<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L671">src/doctor/snapshot-doctor.ts:671</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>key: <span class="tsd-signature-type">string</span></h5></li><li><h5>healthy: <span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li><h5>deferred: <span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li><h5>norewrite: <span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private"><a id="_writeBundle" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagPrivate">Private</span> _write<wbr/>Bundle</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private"><li class="tsd-signature tsd-kind-icon">_write<wbr/>Bundle<span class="tsd-signature-symbol">(</span>bundle<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Buffer</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>bundleHash<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>bundlePath<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L381">src/doctor/snapshot-doctor.ts:381</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>bundle: <span class="tsd-signature-type">Buffer</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>bundleHash<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>bundlePath<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="heal" class="tsd-anchor"></a><h3>heal</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">heal<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>bundle<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Buffer</span><span class="tsd-signature-symbol">; </span>deferred<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>healthy<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>meta<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Metafile</span><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">{ </span>inputs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">{ </span>bytes<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>fileInfo<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>fullPath<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">; </span>imports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>kind<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;require-call&quot;</span><span class="tsd-signature-symbol">; </span>path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>resolverMap<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">; </span>norewrite<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/doctor/snapshot-doctor.ts#L298">src/doctor/snapshot-doctor.ts:298</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The healing process of a given app consists of the following main steps
which are described in more detail in the code below.</p>
</div><div><ol>
<li>Produce an initial bundle and extract all modules from the metadata</li>
<li>Start with an empty heal state or one derived from previous meta data</li>
<li>Process the bundle which is generated respecting the current heal
state and update the heal state via the issues we discover during that
process</li>
<li>Keep doing that until we arrive at a heal state which will result in a
bundle that doesn&#39;t cause any issues when assembled into a snapshot script
and used to initalize the snapshot</li>
<li>Return that heal state as well as the last collected bundle and related
metadata</li>
</ol>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>bundle<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Buffer</span><span class="tsd-signature-symbol">; </span>deferred<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>healthy<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>meta<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Metafile</span><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">{ </span>inputs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">{ </span>bytes<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>fileInfo<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>fullPath<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">; </span>imports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>kind<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;require-call&quot;</span><span class="tsd-signature-symbol">; </span>path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>resolverMap<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">; </span>norewrite<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="../modules/blueprint.html">blueprint</a></li><li class=" tsd-kind-module"><a href="../modules/constants.html">constants</a></li><li class=" tsd-kind-module"><a href="../modules/create_snapshot_bundle.html">create-<wbr/>snapshot-<wbr/>bundle</a></li><li class=" tsd-kind-module"><a href="../modules/create_snapshot_script.html">create-<wbr/>snapshot-<wbr/>script</a></li><li class=" tsd-kind-module"><a href="../modules/doctor_circular_imports.html">doctor/circular-<wbr/>imports</a></li><li class=" tsd-kind-module"><a href="../modules/doctor_determine_deferred.html">doctor/determine-<wbr/>deferred</a></li><li class=" tsd-kind-module"><a href="../modules/doctor_process_script_async.html">doctor/process-<wbr/>script.async</a></li><li class=" tsd-kind-module"><a href="../modules/doctor_process_script_worker.html">doctor/process-<wbr/>script.worker</a></li><li class="current tsd-kind-module"><a href="../modules/doctor_snapshot_doctor.html">doctor/snapshot-<wbr/>doctor</a></li><li class=" tsd-kind-module"><a href="../modules/doctor_warnings_processor.html">doctor/warnings-<wbr/>processor</a></li><li class=" tsd-kind-module"><a href="../modules/loading_snapshot_require.html">loading/snapshot-<wbr/>require</a></li><li class=" tsd-kind-module"><a href="../modules/meta_dependency_map.html">meta/dependency-<wbr/>map</a></li><li class=" tsd-kind-module"><a href="../modules/snapshot_generate_entry_via_deps.html">snapshot-<wbr/>generate-<wbr/>entry-<wbr/>via-<wbr/>deps</a></li><li class=" tsd-kind-module"><a href="../modules/snapshot_generate_entry_via_yarn.html">snapshot-<wbr/>generate-<wbr/>entry-<wbr/>via-<wbr/>yarn</a></li><li class=" tsd-kind-module"><a href="../modules/snapshot_generator.html">snapshot-<wbr/>generator</a></li><li class=" tsd-kind-module"><a href="../modules/snapshot_generator_flags.html">snapshot-<wbr/>generator-<wbr/>flags</a></li><li class=" tsd-kind-module"><a href="../modules/snapshot_verifier.html">snapshot-<wbr/>verifier</a></li><li class=" tsd-kind-module"><a href="../modules/sourcemap_inline_sourcemap.html">sourcemap/inline-<wbr/>sourcemap</a></li><li class=" tsd-kind-module"><a href="../modules/sourcemap_process_sourcemap.html">sourcemap/process-<wbr/>sourcemap</a></li><li class=" tsd-kind-module"><a href="../modules/types.html">types</a></li><li class=" tsd-kind-module"><a href="../modules/utils.html">utils</a></li><li class=" tsd-kind-module"><a href="../modules/v8_snapshot.html">v8-<wbr/>snapshot</a></li><li class=" tsd-kind-module"><a href="../modules/write_config_json.html">write-<wbr/>config-<wbr/>json</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class tsd-parent-kind-module"><a href="doctor_snapshot_doctor.SnapshotDoctor.html" class="tsd-kind-icon">Snapshot<wbr/>Doctor</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_scriptProcessor" class="tsd-kind-icon">_script<wbr/>Processor</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_warningsProcessor" class="tsd-kind-icon">_warnings<wbr/>Processor</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#baseDirPath" class="tsd-kind-icon">base<wbr/>Dir<wbr/>Path</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#bundlerPath" class="tsd-kind-icon">bundler<wbr/>Path</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#entryFilePath" class="tsd-kind-icon">entry<wbr/>File<wbr/>Path</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#forceNoRewrite" class="tsd-kind-icon">force<wbr/>No<wbr/>Rewrite</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#nodeEnv" class="tsd-kind-icon">node<wbr/>Env</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#nodeModulesOnly" class="tsd-kind-icon">node<wbr/>Modules<wbr/>Only</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#previousDeferred" class="tsd-kind-icon">previous<wbr/>Deferred</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#previousHealthy" class="tsd-kind-icon">previous<wbr/>Healthy</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#previousNoRewrite" class="tsd-kind-icon">previous<wbr/>No<wbr/>Rewrite</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_createScript" class="tsd-kind-icon">_create<wbr/>Script</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_findLeaves" class="tsd-kind-icon">_find<wbr/>Leaves</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_findNextStage" class="tsd-kind-icon">_find<wbr/>Next<wbr/>Stage</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_findVerifiables" class="tsd-kind-icon">_find<wbr/>Verifiables</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_processCurrentScript" class="tsd-kind-icon">_process<wbr/>Current<wbr/>Script</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_wasHandled" class="tsd-kind-icon">_was<wbr/>Handled</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#_writeBundle" class="tsd-kind-icon">_write<wbr/>Bundle</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="doctor_snapshot_doctor.SnapshotDoctor.html#heal" class="tsd-kind-icon">heal</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>