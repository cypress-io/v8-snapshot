<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>types | v8-snapshot</title><meta name="description" content="Documentation for v8-snapshot"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem(&quot;tsd-theme&quot;) || &quot;os&quot;)</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">v8-snapshot</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">v8-snapshot</a></li><li><a href="types.html">types</a></li></ul><h1>Module types</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><section class="tsd-index-section"><h3>Type aliases Other</h3><ul class="tsd-index-list"><li class="tsd-kind-type-alias tsd-parent-kind-module tsd-has-type-parameter"><a href="types.html#Entries" class="tsd-kind-icon">Entries</a></li></ul></section><section class="tsd-index-section"><h3>Type aliases loader</h3><ul class="tsd-index-list"><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#ModuleDefinition" class="tsd-kind-icon">Module<wbr/>Definition</a></li></ul></section><section class="tsd-index-section"><h3>Type aliases snapshot</h3><ul class="tsd-index-list"><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#CreateBundleOpts" class="tsd-kind-icon">Create<wbr/>Bundle<wbr/>Opts</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#CreateSnapshotScriptOpts" class="tsd-kind-icon">Create<wbr/>Snapshot<wbr/>Script<wbr/>Opts</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#Metadata" class="tsd-kind-icon">Metadata</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#ModuleDefinition" class="tsd-kind-icon">Module<wbr/>Definition</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#ProcessScriptOpts" class="tsd-kind-icon">Process<wbr/>Script<wbr/>Opts</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#ProcessScriptResult" class="tsd-kind-icon">Process<wbr/>Script<wbr/>Result</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#Snapshot" class="tsd-kind-icon">Snapshot</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#SnapshotAuxiliaryData" class="tsd-kind-icon">Snapshot<wbr/>Auxiliary<wbr/>Data</a></li></ul></section></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Other Type aliases</h2><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module tsd-has-type-parameter"><a id="Entries" class="tsd-anchor"></a><h3>Entries</h3><div class="tsd-signature tsd-kind-icon">Entries&lt;T&gt;<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-signature-symbol">[ </span><span class="tsd-signature-type">K</span><span class="tsd-signature-symbol"> in </span><span class="tsd-signature-symbol">keyof </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">K</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">K</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">]</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-symbol">keyof </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">[]</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/types.ts#L6">src/types.ts:6</a></li></ul></aside><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>T</h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>loader Type aliases</h2><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="ModuleDefinition" class="tsd-anchor"></a><h3>Module<wbr/>Definition</h3><div class="tsd-signature tsd-kind-icon">Module<wbr/>Definition<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;exports&quot;</span><span class="tsd-signature-symbol">]</span>, module<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;exports&quot;</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> }</span>, __filename<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, __dirname<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, require<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeRequireFunction</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">NodeModule</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/types.ts#L157">src/types.ts:157</a></li></ul></aside><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal tsd-parent-kind-type-alias"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;exports&quot;</span><span class="tsd-signature-symbol">]</span>, module<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;exports&quot;</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> }</span>, __filename<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, __dirname<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, require<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeRequireFunction</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeModule</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Specifies the signature of the function that represents a module definition
and when invoked returns a Node.js <code>module</code>.</p>
</div><div><p>Note that an <code>exports</code> parameter which is the same instance as the
<code>module.exports</code> field.  The module either mutates the <code>exports</code> directly or
reassigns <code>module.exports</code>.  After invoking it, the <code>module.exports</code> are
considered the exports of the module.</p>
<p>These definitions are embedded into the snapshot and invoked at runtime.
They are used instead of full-fledged exports when snapshotting would fail
were we to initialize them during the snapshot phase.</p>
</div><dl class="tsd-comment-tags"><dt>category</dt><dd><p>snapshot</p>
</dd><dt>category</dt><dd><p>loader</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>exports: <span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;exports&quot;</span><span class="tsd-signature-symbol">]</span></h5></li><li><h5>module: <span class="tsd-signature-symbol">{ </span>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;exports&quot;</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> }</span></h5><ul class="tsd-parameters"><li class="tsd-parameter"><h5>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;exports&quot;</span><span class="tsd-signature-symbol">]</span></h5></li></ul></li><li><h5>__filename: <span class="tsd-signature-type">string</span></h5></li><li><h5>__dirname: <span class="tsd-signature-type">string</span></h5></li><li><h5>require: <span class="tsd-signature-type">NodeRequireFunction</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">NodeModule</span></h4></li></ul></li></ul></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>snapshot Type aliases</h2><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="CreateBundleOpts" class="tsd-anchor"></a><h3>Create<wbr/>Bundle<wbr/>Opts</h3><div class="tsd-signature tsd-kind-icon">Create<wbr/>Bundle<wbr/>Opts<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>baseDirPath<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>bundlerPath<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>deferred<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>entryFilePath<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>includeStrictVerifiers<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span>nodeModulesOnly<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span>norewrite<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>sourcemap<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span>sourcemapEmbed<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span>sourcemapExternalPath<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>sourcemapInline<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/types.ts#L76">src/types.ts:76</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Configures how the bundle to be snapshotted is generated.</p>
</div><dl class="tsd-comment-tags"><dt>property</dt><dd><p>baseDirPath root of the project which we are snapshotting</p>
</dd><dt>property</dt><dd><p>entryFilePath file we use as the entry-point and from which all
modules to be snapshotted are reachable</p>
</dd><dt>property</dt><dd><p>bundlerPath the esbuild bundler binary to use, if not provided it
falls back to the installed one</p>
</dd><dt>property</dt><dd><p>nodeModulesOnly if <code>true</code> only node_modules are included in the
snapshot, i.e. application files are not</p>
</dd><dt>property</dt><dd><p>deferred you should provide any modules here that you know need
to be deferred in order to speed up the doctor step</p>
</dd><dt>property</dt><dd><p>norewrite you should provide any modules here that you know
should not be rewritten in order to speed up the doctor step and to work
around issues due to invalid rewrites</p>
</dd><dt>property</dt><dd><p>includeStrictVerifiers if <code>true</code> the bundle will be more strictly
checked when validated inside the Node.js VM
This should be set when running the doctor and unset when building the
bundle to be snapshotted</p>
</dd><dt>property</dt><dd><p>sourcemap if <code>true</code> then a sourcemap will be generated for the
bundled files</p>
</dd><dt>property</dt><dd><p>sourcemapExternalPath the file to write the generated sourcemap
to if that is desired</p>
</dd><dt>property</dt><dd><p>sourcemapEmbed when <code>true</code> the sourcemap is embedded in the
snapshot</p>
</dd><dt>property</dt><dd><p>sourcemapInline when <code>true</code> the sourcemap is inlined at the
bottom of the bundled file that is snapshotted</p>
</dd></dl></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>base<wbr/>Dir<wbr/>Path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5>bundler<wbr/>Path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> deferred<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h5></li><li class="tsd-parameter"><h5>entry<wbr/>File<wbr/>Path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> include<wbr/>Strict<wbr/>Verifiers<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5></li><li class="tsd-parameter"><h5>node<wbr/>Modules<wbr/>Only<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> norewrite<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> sourcemap<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5></li><li class="tsd-parameter"><h5>sourcemap<wbr/>Embed<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> sourcemap<wbr/>External<wbr/>Path<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5>sourcemap<wbr/>Inline<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="CreateSnapshotScriptOpts" class="tsd-anchor"></a><h3>Create<wbr/>Snapshot<wbr/>Script<wbr/>Opts</h3><div class="tsd-signature tsd-kind-icon">Create<wbr/>Snapshot<wbr/>Script<wbr/>Opts<span class="tsd-signature-symbol">:</span> <a href="types.html#CreateBundleOpts" class="tsd-signature-type" data-tsd-kind="Type alias">CreateBundleOpts</a><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">{ </span>auxiliaryData<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>nodeEnv<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>resolverMap<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/types.ts#L104">src/types.ts:104</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds Snapshot specific opts to the <a href="types.html#CreateBundleOpts">CreateBundleOpts</a>.</p>
</div><dl class="tsd-comment-tags"><dt>property</dt><dd><p>resolverMap the map that should be embedded in the snapshot in
order to resolve module import requests without querying the file system</p>
</dd><dt>property</dt><dd><p>auxiliaryData any extra data that should be embedded in the
snapshot</p>
</dd><dt>property</dt><dd><p>nodeEnv <code>process.env.NODE_ENV</code> will be set to this value during
snapshot creation, see src/blueprint.ts:88</p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="Metadata" class="tsd-anchor"></a><h3>Metadata</h3><div class="tsd-signature tsd-kind-icon">Metadata<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">CreateBundleResult</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;metafile&quot;</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">{ </span>inputs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">{ </span>bytes<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>fileInfo<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>fullPath<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">; </span>imports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>kind<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;require-call&quot;</span><span class="tsd-signature-symbol">; </span>path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>resolverMap<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/types.ts#L19">src/types.ts:19</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>esbuild metadata <a href="https://esbuild.github.io/api/#metafile" class="external">https://esbuild.github.io/api/#metafile</a> with extra
properties that is included by the snapshot esbuild</p>
</div><div><p>Namely it includes a <code>resolverMap</code> property which is embedded into the
snapshot in order to resolve modules without having to query the file system</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="ModuleDefinition" class="tsd-anchor"></a><h3>Module<wbr/>Definition</h3><div class="tsd-signature tsd-kind-icon">Module<wbr/>Definition<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;exports&quot;</span><span class="tsd-signature-symbol">]</span>, module<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;exports&quot;</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> }</span>, __filename<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, __dirname<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, require<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeRequireFunction</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">NodeModule</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/types.ts#L157">src/types.ts:157</a></li></ul></aside><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal tsd-parent-kind-type-alias"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;exports&quot;</span><span class="tsd-signature-symbol">]</span>, module<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;exports&quot;</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> }</span>, __filename<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, __dirname<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, require<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeRequireFunction</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeModule</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Specifies the signature of the function that represents a module definition
and when invoked returns a Node.js <code>module</code>.</p>
</div><div><p>Note that an <code>exports</code> parameter which is the same instance as the
<code>module.exports</code> field.  The module either mutates the <code>exports</code> directly or
reassigns <code>module.exports</code>.  After invoking it, the <code>module.exports</code> are
considered the exports of the module.</p>
<p>These definitions are embedded into the snapshot and invoked at runtime.
They are used instead of full-fledged exports when snapshotting would fail
were we to initialize them during the snapshot phase.</p>
</div><dl class="tsd-comment-tags"><dt>category</dt><dd><p>snapshot</p>
</dd><dt>category</dt><dd><p>loader</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>exports: <span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;exports&quot;</span><span class="tsd-signature-symbol">]</span></h5></li><li><h5>module: <span class="tsd-signature-symbol">{ </span>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;exports&quot;</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> }</span></h5><ul class="tsd-parameters"><li class="tsd-parameter"><h5>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;exports&quot;</span><span class="tsd-signature-symbol">]</span></h5></li></ul></li><li><h5>__filename: <span class="tsd-signature-type">string</span></h5></li><li><h5>__dirname: <span class="tsd-signature-type">string</span></h5></li><li><h5>require: <span class="tsd-signature-type">NodeRequireFunction</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">NodeModule</span></h4></li></ul></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="ProcessScriptOpts" class="tsd-anchor"></a><h3>Process<wbr/>Script<wbr/>Opts</h3><div class="tsd-signature tsd-kind-icon">Process<wbr/>Script<wbr/>Opts<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>baseDirPath<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>bundleHash<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>bundlePath<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>entryFilePath<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>entryPoint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>nodeEnv<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/types.ts#L114">src/types.ts:114</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Used to configure the workers that are processing a snapshot script in parallel</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>base<wbr/>Dir<wbr/>Path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5>bundle<wbr/>Hash<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5>bundle<wbr/>Path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5>entry<wbr/>File<wbr/>Path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5>entry<wbr/>Point<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5>node<wbr/>Env<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="ProcessScriptResult" class="tsd-anchor"></a><h3>Process<wbr/>Script<wbr/>Result</h3><div class="tsd-signature tsd-kind-icon">Process<wbr/>Script<wbr/>Result<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>error<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">; </span>outcome<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;failed:assembleScript&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;failed:verifyScript&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;completed&quot;</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/types.ts#L137">src/types.ts:137</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Possible outcomes of processing a snapshot script.</p>
</div><div><ul>
<li>&#39;failed:assembleScript&#39; means that the bundler generated a proper bundle
but it couldn&#39;t be included in the snapshot script</li>
<li>&#39;failed:verifyScript&#39; means that the script was assembled fine, but some
violation was detected during the verification phase which indicates that it
couldn&#39;t be snapshotted as is</li>
<li>&#39;completed&#39; all went fine the script could be snapshotted as is</li>
</ul>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> error<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Error</span></h5></li><li class="tsd-parameter"><h5>outcome<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;failed:assembleScript&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;failed:verifyScript&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;completed&quot;</span></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="Snapshot" class="tsd-anchor"></a><h3>Snapshot</h3><div class="tsd-signature tsd-kind-icon">Snapshot<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>customRequire<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>cache<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>definitions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">NodeRequireFunction</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/types.ts#L174">src/types.ts:174</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The result of snapshotting a snapshot script. Namely it has the
<code>customRequire</code> function which also references the <code>exports</code> containing fully
initialized modules as well as <code>definitions</code> <a href="types.html#ModuleDefinition">ModuleDefinition</a>..</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>custom<wbr/>Require<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>cache<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>definitions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">NodeRequireFunction</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> }</span></h5><ul class="tsd-parameters"><li class="tsd-parameter"><h5>cache<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li class="tsd-parameter"><h5>definitions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">NodeRequireFunction</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li class="tsd-parameter"><h5>exports<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">NodeModule</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="SnapshotAuxiliaryData" class="tsd-anchor"></a><h3>Snapshot<wbr/>Auxiliary<wbr/>Data</h3><div class="tsd-signature tsd-kind-icon">Snapshot<wbr/>Auxiliary<wbr/>Data<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>sourceMap<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">RawSourceMap</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/cypress-io/v8-snapshot/blob/da2caba/src/types.ts#L187">src/types.ts:187</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Extra data we include in the snapshot, namely the embedded <code>sourceMap</code>.</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> source<wbr/>Map<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">RawSourceMap</span></h5></li></ul></div></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="blueprint.html">blueprint</a></li><li class=" tsd-kind-module"><a href="constants.html">constants</a></li><li class=" tsd-kind-module"><a href="create_snapshot_bundle.html">create-<wbr/>snapshot-<wbr/>bundle</a></li><li class=" tsd-kind-module"><a href="create_snapshot_script.html">create-<wbr/>snapshot-<wbr/>script</a></li><li class=" tsd-kind-module"><a href="doctor_circular_imports.html">doctor/circular-<wbr/>imports</a></li><li class=" tsd-kind-module"><a href="doctor_determine_deferred.html">doctor/determine-<wbr/>deferred</a></li><li class=" tsd-kind-module"><a href="doctor_process_script_async.html">doctor/process-<wbr/>script.async</a></li><li class=" tsd-kind-module"><a href="doctor_process_script_worker.html">doctor/process-<wbr/>script.worker</a></li><li class=" tsd-kind-module"><a href="doctor_snapshot_doctor.html">doctor/snapshot-<wbr/>doctor</a></li><li class=" tsd-kind-module"><a href="doctor_warnings_processor.html">doctor/warnings-<wbr/>processor</a></li><li class=" tsd-kind-module"><a href="loading_snapshot_require.html">loading/snapshot-<wbr/>require</a></li><li class=" tsd-kind-module"><a href="meta_dependency_map.html">meta/dependency-<wbr/>map</a></li><li class=" tsd-kind-module"><a href="snapshot_generate_entry_via_deps.html">snapshot-<wbr/>generate-<wbr/>entry-<wbr/>via-<wbr/>deps</a></li><li class=" tsd-kind-module"><a href="snapshot_generate_entry_via_yarn.html">snapshot-<wbr/>generate-<wbr/>entry-<wbr/>via-<wbr/>yarn</a></li><li class=" tsd-kind-module"><a href="snapshot_generator.html">snapshot-<wbr/>generator</a></li><li class=" tsd-kind-module"><a href="snapshot_generator_flags.html">snapshot-<wbr/>generator-<wbr/>flags</a></li><li class=" tsd-kind-module"><a href="snapshot_verifier.html">snapshot-<wbr/>verifier</a></li><li class=" tsd-kind-module"><a href="sourcemap_inline_sourcemap.html">sourcemap/inline-<wbr/>sourcemap</a></li><li class=" tsd-kind-module"><a href="sourcemap_process_sourcemap.html">sourcemap/process-<wbr/>sourcemap</a></li><li class="current tsd-kind-module"><a href="types.html">types</a></li><li class=" tsd-kind-module"><a href="utils.html">utils</a></li><li class=" tsd-kind-module"><a href="v8_snapshot.html">v8-<wbr/>snapshot</a></li><li class=" tsd-kind-module"><a href="write_config_json.html">write-<wbr/>config-<wbr/>json</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#CreateBundleOpts" class="tsd-kind-icon">Create<wbr/>Bundle<wbr/>Opts</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#CreateSnapshotScriptOpts" class="tsd-kind-icon">Create<wbr/>Snapshot<wbr/>Script<wbr/>Opts</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module tsd-has-type-parameter"><a href="types.html#Entries" class="tsd-kind-icon">Entries</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#Metadata" class="tsd-kind-icon">Metadata</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#ModuleDefinition" class="tsd-kind-icon">Module<wbr/>Definition</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#ProcessScriptOpts" class="tsd-kind-icon">Process<wbr/>Script<wbr/>Opts</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#ProcessScriptResult" class="tsd-kind-icon">Process<wbr/>Script<wbr/>Result</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#Snapshot" class="tsd-kind-icon">Snapshot</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="types.html#SnapshotAuxiliaryData" class="tsd-kind-icon">Snapshot<wbr/>Auxiliary<wbr/>Data</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>